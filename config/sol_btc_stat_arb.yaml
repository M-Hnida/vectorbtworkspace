# SOL/BTC Statistical Arbitrage Strategy Configuration

# Default strategy parameters
parameters:
  # Statistical Arbitrage Parameters
  lookback_period: 20           # Rolling window for mean/std calculation
  zscore_entry: 2.0            # Z-score threshold for entry
  zscore_exit: 0.5             # Z-score threshold for exit
  correlation_threshold: 0.7    # Minimum correlation to trade
  min_holding_period: 5        # Minimum hours to hold position
  volatility_lookback: 20      # Lookback for volatility calculation
  
  # Trading Parameters
  initial_cash: 10000          # Initial capital
  fee: 0.001                   # Trading fee (0.1%)
  freq: "1h"                   # Data frequency
  
  # Risk Management
  max_position_size: 0.8       # Maximum position size (80% of capital)
  stop_loss_zscore: 4.0        # Stop loss at extreme z-score

# Optimization grid for parameter tuning
optimization_grid:
  lookback_period: [15, 20, 30, 40]
  zscore_entry: [1.5, 2.0, 2.5, 3.0]
  zscore_exit: [0.3, 0.5, 0.8, 1.0]
  correlation_threshold: [0.6, 0.7, 0.8]

# Data requirements - need both SOL and BTC data
data_requirements:
  columns: ["open", "high", "low", "close", "volume"]
  min_periods: 100
  timeframe: "1H"
  required_timeframes: ["1h"]

# CCXT configuration for both SOL and BTC
data_source: "ccxt"
ccxt:
  exchange: "binance"
  symbols: ["SOL/USDT", "BTC/USDT"]  # Load both pairs
  sandbox: false

# Strategy description
description: "Statistical arbitrage strategy trading mean reversion between SOL and BTC price ratios"

# Strategy-specific settings
strategy_settings:
  pair_assets: ["SOL", "BTC"]
  base_currency: "USDT"
  strategy_type: "statistical_arbitrage"
  
  # Signal generation
  signal_method: "zscore"       # zscore, bollinger, or cointegration
  rebalance_frequency: "1h"     # How often to check signals
  
  # Risk controls
  max_correlation_lookback: 60  # Max periods to look back for correlation
  correlation_decay_factor: 0.95  # Exponential decay for correlation
  
  # Performance tracking
  track_spread_metrics: true
  log_signal_details: true

# Analysis settings
analysis_settings:
  # Optimization Settings
  max_combinations: 30
  optimization_metric: "sharpe"
  
  # Walk-Forward Analysis
  walk_forward_windows: 4
  train_ratio: 0.75
  
  # Monte Carlo Settings
  monte_carlo_runs: 500
  confidence_level: 0.95

# Advanced settings
advanced:
  # Spread calculation method
  spread_method: "log_ratio"    # log_ratio, price_ratio, or residual
  
  # Cointegration settings (if using cointegration method)
  cointegration_lookback: 252   # Days for cointegration test
  adf_significance: 0.05        # ADF test significance level
  
  # Dynamic parameters
  adaptive_thresholds: true     # Adapt thresholds based on volatility
  volatility_regime_detection: true  # Detect high/low vol regimes
  
  # Execution settings
  slippage: 0.0005             # Expected slippage (0.05%)
  latency_ms: 50               # Expected execution latency
  
  # Portfolio construction
  hedge_ratio_method: "ols"     # ols, tls, or kalman
  rebalance_threshold: 0.1      # Rebalance when hedge ratio changes by 10%

# Notes and documentation
notes: |
  SOL/BTC Statistical Arbitrage Strategy
  
  This strategy identifies mean reversion opportunities in the SOL/BTC price ratio:
  
  1. Calculates rolling z-score of log(SOL/BTC) ratio
  2. Enters positions when z-score exceeds entry threshold
  3. Exits when z-score reverts to exit threshold
  4. Uses correlation filter to ensure pairs relationship is intact
  
  Best suited for:
  - High correlation periods between SOL and BTC
  - Range-bound or sideways markets
  - When both assets are in similar market regimes
  
  Avoid during:
  - Major news events affecting only one asset
  - Low correlation periods
  - Strong trending markets in opposite directions
  
  Key metrics to monitor:
  - Rolling correlation between SOL and BTC
  - Z-score distribution and mean reversion frequency
  - Spread volatility and regime changes